<!doctype html>
<html lang="fr" data-theme="ndi">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Simulateur - Calculez vos Ã©conomies | NDI 2025</title>
		<link rel="stylesheet" href="/stylesheets/style.css" />
		<script defer src="/javascripts/alpine.js"></script>
	</head>

	<body class="min-h-screen bg-base-100">
		<%- include('partials/navbar', { basePath, page }) %>

		<!-- Hero -->
		<section class="hero min-h-[40vh] bg-gradient-to-br from-primary/20 via-accent/10 to-secondary/20 relative overflow-hidden">
			<div class="absolute inset-0 opacity-10">
				<div class="absolute top-10 left-10 w-72 h-72 bg-primary rounded-full blur-3xl"></div>
				<div class="absolute bottom-10 right-10 w-96 h-96 bg-accent rounded-full blur-3xl"></div>
				<div class="absolute top-1/2 left-1/2 w-80 h-80 bg-secondary rounded-full blur-3xl transform -translate-x-1/2 -translate-y-1/2"></div>
			</div>
			<div class="hero-content text-center relative z-10">
				<div class="max-w-4xl">
					<h1 class="text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-primary via-accent to-secondary bg-clip-text text-transparent">
						ğŸ® Simulateur NIRD
					</h1>
					<p class="text-2xl mb-4 font-semibold">
						Calculez les Ã©conomies et l'impact de votre Ã©tablissement
					</p>
					<p class="text-lg opacity-80">
						DÃ©couvrez comment votre Ã©tablissement peut devenir un Village NumÃ©rique RÃ©sistant
					</p>
				</div>
			</div>
		</section>

		<!-- Simulateur Interactif -->
		<section class="py-20 bg-gradient-to-br from-base-100 via-primary/5 to-base-100">
			<div class="container mx-auto px-4">
				<div 
					x-data="{
						// DonnÃ©es de l'Ã©tablissement
						eleves: 500,
						enseignants: 50,
						ordinateurs: 200,
						licencesWindows: 200,
						prixLicence: 150,
						renouvellement: 5,
						
						// Actions NIRD
						adopteLinux: false,
						reutiliseMateriel: false,
						utiliseLogicielsLibres: false,
						hebergeLocal: false,
						formePersonnel: false,
						participeCommunaute: false,
						
						// Calculs
						get economieLicences() {
							return this.adopteLinux ? this.licencesWindows * this.prixLicence : 0;
						},
						get economieMateriel() {
							if (!this.reutiliseMateriel) return 0;
							const pcEconomises = Math.floor(this.ordinateurs * 0.8);
							return pcEconomises * 500; // 500â‚¬ par PC Ã©conomisÃ©
						},
						get economieCloud() {
							return this.hebergeLocal ? this.eleves * 10 : 0; // 10â‚¬ par Ã©lÃ¨ve/an
						},
						get totalEconomies() {
							return this.economieLicences + this.economieMateriel + this.economieCloud;
						},
						get pcSauves() {
							return this.reutiliseMateriel ? Math.floor(this.ordinateurs * 0.8) : 0;
						},
						get resistanceScore() {
							let score = 0;
							if (this.adopteLinux) score += 25;
							if (this.reutiliseMateriel) score += 20;
							if (this.utiliseLogicielsLibres) score += 20;
							if (this.hebergeLocal) score += 15;
							if (this.formePersonnel) score += 10;
							if (this.participeCommunaute) score += 10;
							return Math.min(score, 100);
						},
						get niveauResistance() {
							const score = this.resistanceScore;
							if (score < 30) return {text: 'DÃ©butant', color: 'warning', icon: 'ğŸŒ±'};
							if (score < 60) return {text: 'IntermÃ©diaire', color: 'info', icon: 'ğŸŒ¿'};
							if (score < 90) return {text: 'AvancÃ©', color: 'primary', icon: 'ğŸŒ³'};
							return {text: 'Expert', color: 'success', icon: 'ğŸ†'};
						}
					}"
					class="max-w-6xl mx-auto"
				>
					<!-- Configuration -->
					<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
					<!-- ParamÃ¨tres Ã©tablissement -->
					<div class="card bg-gradient-to-br from-base-200 to-base-100 border-2 border-primary/20 shadow-2xl">
						<div class="card-body p-6">
								<h2 class="card-title text-2xl mb-6">ğŸ“Š Votre Ã‰tablissement</h2>
								
								<div class="form-control mb-4">
									<label class="label">
										<span class="label-text font-semibold">Nombre d'Ã©lÃ¨ves</span>
									</label>
									<input 
										type="range" 
										min="50" 
										max="2000" 
										step="50"
										x-model="eleves"
										class="range range-primary"
									/>
									<div class="w-full flex justify-between text-xs px-2">
										<span>50</span>
										<span>2000</span>
									</div>
									<div class="stat">
										<div class="stat-value text-primary text-3xl" x-text="eleves"></div>
										<div class="stat-desc">Ã©lÃ¨ves</div>
									</div>
								</div>

								<div class="form-control mb-4">
									<label class="label">
										<span class="label-text font-semibold">Nombre d'enseignants</span>
									</label>
									<input 
										type="range" 
										min="10" 
										max="200" 
										step="5"
										x-model="enseignants"
										class="range range-secondary"
									/>
									<div class="stat">
										<div class="stat-value text-secondary text-3xl" x-text="enseignants"></div>
										<div class="stat-desc">enseignants</div>
									</div>
								</div>

								<div class="form-control mb-4">
									<label class="label">
										<span class="label-text font-semibold">Nombre d'ordinateurs</span>
									</label>
									<input 
										type="range" 
										min="50" 
										max="500" 
										step="10"
										x-model="ordinateurs"
										class="range range-accent"
									/>
									<div class="stat">
										<div class="stat-value text-accent text-3xl" x-text="ordinateurs"></div>
										<div class="stat-desc">ordinateurs</div>
									</div>
								</div>

								<div class="form-control">
									<label class="label">
										<span class="label-text font-semibold">Licences Windows</span>
									</label>
									<input 
										type="range" 
										min="0" 
										max="500" 
										step="10"
										x-model="licencesWindows"
										class="range range-warning"
									/>
									<div class="stat">
										<div class="stat-value text-warning text-3xl" x-text="licencesWindows"></div>
										<div class="stat-desc">licences</div>
									</div>
								</div>
							</div>
						</div>

					<!-- Actions NIRD -->
					<div class="card bg-gradient-to-br from-base-200 to-base-100 border-2 border-secondary/20 shadow-2xl">
						<div class="card-body p-6">
								<h2 class="card-title text-2xl mb-6">âœ… Actions NIRD</h2>
								
								<div class="space-y-4">
									<label class="label cursor-pointer">
										<span class="label-text font-semibold">
											ğŸ§ Adopter Linux
										</span>
										<input 
											type="checkbox" 
											class="toggle toggle-primary"
											x-model="adopteLinux"
										/>
									</label>

									<label class="label cursor-pointer">
										<span class="label-text font-semibold">
											â™»ï¸ RÃ©utiliser le matÃ©riel
										</span>
										<input 
											type="checkbox" 
											class="toggle toggle-accent"
											x-model="reutiliseMateriel"
										/>
									</label>

									<label class="label cursor-pointer">
										<span class="label-text font-semibold">
											ğŸ“¦ Utiliser des logiciels libres
										</span>
										<input 
											type="checkbox" 
											class="toggle toggle-secondary"
											x-model="utiliseLogicielsLibres"
										/>
									</label>

									<label class="label cursor-pointer">
										<span class="label-text font-semibold">
											â˜ï¸ HÃ©bergement local
										</span>
										<input 
											type="checkbox" 
											class="toggle toggle-info"
											x-model="hebergeLocal"
										/>
									</label>

									<label class="label cursor-pointer">
										<span class="label-text font-semibold">
											ğŸ“ Former le personnel
										</span>
										<input 
											type="checkbox" 
											class="toggle toggle-warning"
											x-model="formePersonnel"
										/>
									</label>

									<label class="label cursor-pointer">
										<span class="label-text font-semibold">
											ğŸ¤ Participer Ã  la communautÃ©
										</span>
										<input 
											type="checkbox" 
											class="toggle toggle-success"
											x-model="participeCommunaute"
										/>
									</label>
								</div>
							</div>
						</div>
					</div>

					<!-- RÃ©sultats -->
					<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
						<!-- Score de rÃ©sistance -->
						<div class="card bg-gradient-to-br from-primary/20 to-primary/5 border-2 border-primary/30 shadow-2xl">
							<div class="card-body text-center p-6">
								<div class="text-6xl mb-4" x-text="niveauResistance.icon"></div>
								<h3 class="text-2xl font-bold mb-2" :class="'text-' + niveauResistance.color" x-text="niveauResistance.text"></h3>
								<div class="radial-progress" :class="'text-' + niveauResistance.color" :style="`--value: ${resistanceScore}`" x-text="resistanceScore + '%'"></div>
								<p class="text-sm opacity-80 mt-2">Niveau de rÃ©sistance</p>
							</div>
						</div>

						<!-- Ã‰conomies totales -->
						<div class="card bg-gradient-to-br from-success/20 to-success/5 border-2 border-success/30 shadow-2xl">
							<div class="card-body text-center p-6">
								<div class="text-6xl mb-4">ğŸ’°</div>
								<h3 class="text-2xl font-bold mb-2 text-success">Ã‰conomies</h3>
								<div class="stat-value text-success text-4xl" x-text="totalEconomies.toLocaleString('fr-FR') + ' â‚¬'"></div>
								<p class="text-sm opacity-80 mt-2">Par an</p>
							</div>
						</div>

						<!-- PC sauvegardÃ©s -->
						<div class="card bg-gradient-to-br from-accent/20 to-accent/5 border-2 border-accent/30 shadow-2xl">
							<div class="card-body text-center p-6">
								<div class="text-6xl mb-4">â™»ï¸</div>
								<h3 class="text-2xl font-bold mb-2 text-accent">PC SauvegardÃ©s</h3>
								<div class="stat-value text-accent text-4xl" x-text="pcSauves"></div>
								<p class="text-sm opacity-80 mt-2">Ordinateurs rÃ©utilisÃ©s</p>
							</div>
						</div>

						<!-- Impact Ã©cologique -->
						<div class="card bg-gradient-to-br from-secondary/20 to-secondary/5 border-2 border-secondary/30 shadow-2xl">
							<div class="card-body text-center p-6">
								<div class="text-6xl mb-4">ğŸŒ±</div>
								<h3 class="text-2xl font-bold mb-2 text-secondary">Impact COâ‚‚</h3>
								<div class="stat-value text-secondary text-4xl" x-text="(pcSauves * 200).toLocaleString('fr-FR') + ' kg'"></div>
								<p class="text-sm opacity-80 mt-2">COâ‚‚ Ã©conomisÃ©</p>
							</div>
						</div>
					</div>

					<!-- DÃ©tail des Ã©conomies -->
					<div class="card bg-gradient-to-br from-base-200 to-base-100 border-2 border-primary/20 shadow-2xl mb-12">
						<div class="card-body p-6">
							<h2 class="card-title text-2xl mb-6">ğŸ“ˆ DÃ©tail des Ã‰conomies</h2>
							<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
								<div class="stat bg-base-100 rounded-lg shadow p-4">
									<div class="stat-title">Licences Windows</div>
									<div class="stat-value text-primary" x-text="economieLicences.toLocaleString('fr-FR') + ' â‚¬'"></div>
									<div class="stat-desc" x-show="adopteLinux">Ã‰conomisÃ© avec Linux</div>
									<div class="stat-desc" x-show="!adopteLinux">Activez Linux pour Ã©conomiser</div>
								</div>
								<div class="stat bg-base-100 rounded-lg shadow p-4">
									<div class="stat-title">MatÃ©riel</div>
									<div class="stat-value text-accent" x-text="economieMateriel.toLocaleString('fr-FR') + ' â‚¬'"></div>
									<div class="stat-desc" x-show="reutiliseMateriel">PC rÃ©utilisÃ©s</div>
									<div class="stat-desc" x-show="!reutiliseMateriel">RÃ©utilisez votre matÃ©riel</div>
								</div>
								<div class="stat bg-base-100 rounded-lg shadow p-4">
									<div class="stat-title">Cloud</div>
									<div class="stat-value text-info" x-text="economieCloud.toLocaleString('fr-FR') + ' â‚¬'"></div>
									<div class="stat-desc" x-show="hebergeLocal">HÃ©bergement local</div>
									<div class="stat-desc" x-show="!hebergeLocal">Passez Ã  l'hÃ©bergement local</div>
								</div>
							</div>
						</div>
					</div>

					<!-- Message de succÃ¨s -->
					<div 
						x-show="resistanceScore >= 90"
						x-transition
						class="alert alert-success shadow-lg mb-8"
					>
						<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-8 w-8" fill="none" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
						</svg>
						<div>
							<h3 class="font-bold text-xl">ğŸ‰ FÃ©licitations !</h3>
							<div class="text-lg">Votre Ã©tablissement est maintenant un <strong>Village NumÃ©rique RÃ©sistant</strong> !</div>
						</div>
					</div>

					<!-- Actions -->
					<div class="card bg-gradient-to-r from-primary via-accent to-secondary shadow-2xl border-2 border-primary/30">
						<div class="card-body text-center p-12">
							<h2 class="text-3xl font-bold text-white mb-4">PrÃªt Ã  passer Ã  l'action ?</h2>
							<p class="text-xl text-white/90 mb-8">
								DÃ©couvrez comment mettre en place ces solutions dans votre Ã©tablissement
							</p>
							<div class="flex flex-col sm:flex-row gap-4 justify-center">
								<a href="<%= url('/solutions') %>" class="btn btn-lg bg-white text-primary hover:bg-base-200 shadow-lg transform transition-all hover:scale-105">
									Voir les Solutions
								</a>
								<a href="<%= url('/ressources') %>" class="btn btn-lg btn-outline text-white border-2 border-white hover:bg-white hover:text-primary shadow-lg transform transition-all hover:scale-105">
									Consulter les Ressources
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<%- include('partials/footer', { basePath }) %>
	</body>
</html>

